{"changed":true,"filter":false,"title":"show_select_page_pc.php","tooltip":"/modules/user_profile/php_action/show_select_page_pc.php","value":"<?php\n    require_once 'include/php/action_listener.php';\n    require_once 'include/php/event_message.php';\n    require_once 'modules/user_profile/php_action/user_profile_model.php';\n    \n    class do_select_action implements action_listener{\n            $conn = PDO_mysql::getConnection();\n            $sql = \"SELECT * FROM user_profile\";\n            $post = $em->getPost();\n            $where_statement = $post['where_statement'];\n            if($where_statement != \"\"){\n                $sql .= \" where $where_statement\";\n            }\n            $stmt = $conn->prepare($sql);\n            $result = $stmt->execute();\n            if($result){\n                $ds = $stmt->fetchAll(PDO::FETCH_ASSOC);\n                $return_value['status_code'] = 0;\n                $return_value['status_message'] = 'Execute Success';\n                $return_value['data_set'] = $ds;\n                $return_value['sql'] = $sql;\n            }\n            else{\n                $return_value['status_code'] = -1;\n                $return_value['status_message'] = 'SQL Execute Error in (user_profile, do_select_action)';\n                $return_value['sql'] = $sql;\n            }\n            return json_encode($return_value);\n        }        \n    }\n?>","undoManager":{"mark":2,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":36,"column":2},"action":"insert","lines":["<?php","    require_once 'include/php/action_listener.php';","    require_once 'include/php/event_message.php';","    require_once 'modules/user_profile/php_action/user_profile_model.php';","    ","    class do_select_action implements action_listener{","        public function actionPerformed(event_message $em) {","//             if(isset($_SESSION['useracc'])){","// \t\t\t$userid=$_SESSION['userid'];","// \t\t    }","// \t\t    $user_model = new user_profile_model();","// \t\t    $user_info = $user_model->get_something_from_user_profile(\"*\",\"user_profile.id=\".$userid);","            $conn = PDO_mysql::getConnection();","            $sql = \"SELECT * FROM user_profile\";","            $post = $em->getPost();","            $where_statement = $post['where_statement'];","            if($where_statement != \"\"){","                $sql .= \" where $where_statement\";","            }","            $stmt = $conn->prepare($sql);","            $result = $stmt->execute();","            if($result){","                $ds = $stmt->fetchAll(PDO::FETCH_ASSOC);","                $return_value['status_code'] = 0;","                $return_value['status_message'] = 'Execute Success';","                $return_value['data_set'] = $ds;","                $return_value['sql'] = $sql;","            }","            else{","                $return_value['status_code'] = -1;","                $return_value['status_message'] = 'SQL Execute Error in (user_profile, do_select_action)';","                $return_value['sql'] = $sql;","            }","            return json_encode($return_value);","        }        ","    }","?>"],"id":1}],[{"start":{"row":6,"column":0},"end":{"row":11,"column":1},"action":"remove","lines":["        public function actionPerformed(event_message $em) {","//             if(isset($_SESSION['useracc'])){","// \t\t\t$userid=$_SESSION['userid'];","// \t\t    }","// \t\t    $user_model = new user_profile_model();","/"],"id":2}],[{"start":{"row":6,"column":0},"end":{"row":7,"column":1},"action":"remove","lines":["/ \t\t    $user_info = $user_model->get_something_from_user_profile(\"*\",\"user_profile.id=\".$userid);"," "],"id":3}],[{"start":{"row":6,"column":11},"end":{"row":6,"column":12},"action":"insert","lines":[" "],"id":4}]]},"ace":{"folds":[],"scrolltop":78,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":30,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1538970169910}