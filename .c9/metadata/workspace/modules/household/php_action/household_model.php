{"filter":false,"title":"household_model.php","tooltip":"/modules/household/php_action/household_model.php","undoManager":{"mark":51,"position":51,"stack":[[{"start":{"row":59,"column":9},"end":{"row":60,"column":0},"action":"insert","lines":["",""],"id":47},{"start":{"row":60,"column":0},"end":{"row":60,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":60,"column":8},"end":{"row":64,"column":9},"action":"insert","lines":["public function insert_public_household_user($user_profile_id,$household_profile_id,$public_facilities_id){","            $sql =\"INSERT INTO `household_user` (`id`, `user_profile_id`, `household_profile_id`, `warranty`, `public_facilities_id`) VALUES (NULL,$user_profile_id, $household_profile_id, NULL, $public_facilities_id)\";","            $stmt = $this->conn->prepare($sql);","            $stmt->execute();","        }"],"id":48}],[{"start":{"row":44,"column":75},"end":{"row":44,"column":76},"action":"insert","lines":[" "],"id":49}],[{"start":{"row":44,"column":76},"end":{"row":44,"column":77},"action":"insert","lines":["&"],"id":50},{"start":{"row":44,"column":77},"end":{"row":44,"column":78},"action":"insert","lines":["&"]}],[{"start":{"row":44,"column":78},"end":{"row":44,"column":79},"action":"insert","lines":[" "],"id":51}],[{"start":{"row":44,"column":79},"end":{"row":44,"column":110},"action":"insert","lines":["&& public_facilities_id IS null"],"id":52}],[{"start":{"row":44,"column":79},"end":{"row":44,"column":82},"action":"remove","lines":["&& "],"id":53}],[{"start":{"row":53,"column":9},"end":{"row":54,"column":0},"action":"insert","lines":["",""],"id":54},{"start":{"row":54,"column":0},"end":{"row":54,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":54,"column":8},"end":{"row":62,"column":9},"action":"insert","lines":["public function update_user_info($name,$phone,$account,$password,$type,$user){","            $sql=\"UPDATE user_profile SET name=:name, phone=:phone, account=:account, password=:password, type=:type Where user_profile.id=$user\";","            $stmt = $this->conn->prepare($sql);","            $return_value = $stmt->execute(array(':name'=>$name, ':phone'=>$phone, ':account'=>$account ,':password'=>$password,':type'=>$type));","            // if ($result != null) {","            //     $return_value['data_set'] = $result;","            // }","            return $return_value;","        }"],"id":55}],[{"start":{"row":54,"column":31},"end":{"row":54,"column":40},"action":"remove","lines":["user_info"],"id":56},{"start":{"row":54,"column":31},"end":{"row":54,"column":48},"action":"insert","lines":["household_profile"]}],[{"start":{"row":54,"column":48},"end":{"row":54,"column":49},"action":"insert","lines":["_"],"id":57},{"start":{"row":54,"column":49},"end":{"row":54,"column":50},"action":"insert","lines":["P"]}],[{"start":{"row":55,"column":25},"end":{"row":55,"column":37},"action":"remove","lines":["user_profile"],"id":58},{"start":{"row":55,"column":25},"end":{"row":55,"column":44},"action":"insert","lines":["`household_profile`"]}],[{"start":{"row":54,"column":52},"end":{"row":54,"column":56},"action":"remove","lines":["name"],"id":59},{"start":{"row":54,"column":52},"end":{"row":54,"column":58},"action":"insert","lines":["number"]}],[{"start":{"row":54,"column":60},"end":{"row":54,"column":65},"action":"remove","lines":["phone"],"id":60},{"start":{"row":54,"column":60},"end":{"row":54,"column":68},"action":"insert","lines":["\taddress"]}],[{"start":{"row":54,"column":60},"end":{"row":54,"column":61},"action":"remove","lines":["\t"],"id":61}],[{"start":{"row":54,"column":69},"end":{"row":54,"column":76},"action":"remove","lines":["account"],"id":62},{"start":{"row":54,"column":69},"end":{"row":54,"column":74},"action":"insert","lines":["floor"]}],[{"start":{"row":54,"column":74},"end":{"row":54,"column":96},"action":"remove","lines":[",$password,$type,$user"],"id":63}],[{"start":{"row":55,"column":49},"end":{"row":55,"column":53},"action":"remove","lines":["name"],"id":64},{"start":{"row":55,"column":49},"end":{"row":55,"column":55},"action":"insert","lines":["number"]}],[{"start":{"row":55,"column":57},"end":{"row":55,"column":61},"action":"remove","lines":["name"],"id":65},{"start":{"row":55,"column":57},"end":{"row":55,"column":63},"action":"insert","lines":["number"]}],[{"start":{"row":55,"column":65},"end":{"row":55,"column":70},"action":"remove","lines":["phone"],"id":66},{"start":{"row":55,"column":65},"end":{"row":55,"column":72},"action":"insert","lines":["address"]}],[{"start":{"row":55,"column":74},"end":{"row":55,"column":79},"action":"remove","lines":["phone"],"id":67},{"start":{"row":55,"column":74},"end":{"row":55,"column":81},"action":"insert","lines":["address"]}],[{"start":{"row":55,"column":83},"end":{"row":55,"column":90},"action":"remove","lines":["account"],"id":68},{"start":{"row":55,"column":83},"end":{"row":55,"column":88},"action":"insert","lines":["floor"]}],[{"start":{"row":55,"column":90},"end":{"row":55,"column":97},"action":"remove","lines":["account"],"id":69},{"start":{"row":55,"column":90},"end":{"row":55,"column":95},"action":"insert","lines":["floor"]}],[{"start":{"row":55,"column":95},"end":{"row":55,"column":127},"action":"remove","lines":[", password=:password, type=:type"],"id":70}],[{"start":{"row":55,"column":102},"end":{"row":55,"column":115},"action":"remove","lines":["user_profile."],"id":71}],[{"start":{"row":55,"column":106},"end":{"row":55,"column":110},"action":"remove","lines":["user"],"id":72},{"start":{"row":55,"column":106},"end":{"row":55,"column":107},"action":"insert","lines":["I"]},{"start":{"row":55,"column":107},"end":{"row":55,"column":108},"action":"insert","lines":["D"]}],[{"start":{"row":55,"column":107},"end":{"row":55,"column":108},"action":"remove","lines":["D"],"id":73},{"start":{"row":55,"column":106},"end":{"row":55,"column":107},"action":"remove","lines":["I"]}],[{"start":{"row":55,"column":106},"end":{"row":55,"column":107},"action":"insert","lines":["i"],"id":74},{"start":{"row":55,"column":107},"end":{"row":55,"column":108},"action":"insert","lines":["d"]}],[{"start":{"row":57,"column":51},"end":{"row":57,"column":55},"action":"remove","lines":["name"],"id":75},{"start":{"row":57,"column":51},"end":{"row":57,"column":57},"action":"insert","lines":["number"]}],[{"start":{"row":57,"column":61},"end":{"row":57,"column":65},"action":"remove","lines":["name"],"id":76},{"start":{"row":57,"column":61},"end":{"row":57,"column":67},"action":"insert","lines":["number"]}],[{"start":{"row":57,"column":71},"end":{"row":57,"column":76},"action":"remove","lines":["phone"],"id":77},{"start":{"row":57,"column":71},"end":{"row":57,"column":78},"action":"insert","lines":["address"]}],[{"start":{"row":57,"column":82},"end":{"row":57,"column":87},"action":"remove","lines":["phone"],"id":78},{"start":{"row":57,"column":82},"end":{"row":57,"column":89},"action":"insert","lines":["address"]}],[{"start":{"row":57,"column":93},"end":{"row":57,"column":100},"action":"remove","lines":["account"],"id":79},{"start":{"row":57,"column":93},"end":{"row":57,"column":98},"action":"insert","lines":["floor"]}],[{"start":{"row":57,"column":102},"end":{"row":57,"column":109},"action":"remove","lines":["account"],"id":80},{"start":{"row":57,"column":102},"end":{"row":57,"column":107},"action":"insert","lines":["floor"]}],[{"start":{"row":57,"column":108},"end":{"row":57,"column":146},"action":"remove","lines":[",':password'=>$password,':type'=>$type"],"id":81},{"start":{"row":57,"column":107},"end":{"row":57,"column":108},"action":"remove","lines":[" "]}],[{"start":{"row":57,"column":110},"end":{"row":60,"column":16},"action":"remove","lines":["","            // if ($result != null) {","            //     $return_value['data_set'] = $result;","            // }"],"id":82}],[{"start":{"row":54,"column":51},"end":{"row":54,"column":74},"action":"remove","lines":["$number,$address,$floor"],"id":83},{"start":{"row":54,"column":51},"end":{"row":54,"column":93},"action":"insert","lines":["$housepid,$housepnum,$housepadd,$houseflow"]}],[{"start":{"row":55,"column":105},"end":{"row":55,"column":108},"action":"remove","lines":["$id"],"id":84},{"start":{"row":55,"column":105},"end":{"row":55,"column":114},"action":"insert","lines":["$housepid"]}],[{"start":{"row":57,"column":60},"end":{"row":57,"column":67},"action":"remove","lines":["$number"],"id":85},{"start":{"row":57,"column":60},"end":{"row":57,"column":70},"action":"insert","lines":["$housepnum"]}],[{"start":{"row":57,"column":84},"end":{"row":57,"column":92},"action":"remove","lines":["$address"],"id":86},{"start":{"row":57,"column":84},"end":{"row":57,"column":94},"action":"insert","lines":["$housepadd"]}],[{"start":{"row":57,"column":106},"end":{"row":57,"column":112},"action":"remove","lines":["$floor"],"id":87},{"start":{"row":57,"column":106},"end":{"row":57,"column":116},"action":"insert","lines":["$houseflow"]}],[{"start":{"row":59,"column":9},"end":{"row":60,"column":0},"action":"insert","lines":["",""],"id":88},{"start":{"row":60,"column":0},"end":{"row":60,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":60,"column":8},"end":{"row":64,"column":9},"action":"insert","lines":["public function insert_public_household_user($user_profile_id,$household_profile_id,$public_facilities_id){","            $sql =\"INSERT INTO `household_user` (`id`, `user_profile_id`, `household_profile_id`, `warranty`, `public_facilities_id`) VALUES (NULL,$user_profile_id, $household_profile_id, NULL, $public_facilities_id)\";","            $stmt = $this->conn->prepare($sql);","            $stmt->execute();","        }"],"id":92}],[{"start":{"row":60,"column":30},"end":{"row":60,"column":37},"action":"remove","lines":["_public"],"id":93}],[{"start":{"row":60,"column":45},"end":{"row":60,"column":46},"action":"insert","lines":["_"],"id":94},{"start":{"row":60,"column":46},"end":{"row":60,"column":47},"action":"insert","lines":["p"]}],[{"start":{"row":60,"column":46},"end":{"row":60,"column":47},"action":"remove","lines":["p"],"id":95}],[{"start":{"row":60,"column":46},"end":{"row":60,"column":47},"action":"insert","lines":["P"],"id":96}],[{"start":{"row":60,"column":86},"end":{"row":60,"column":108},"action":"remove","lines":[",$public_facilities_id"],"id":97}],[{"start":{"row":61,"column":194},"end":{"row":61,"column":215},"action":"remove","lines":["$public_facilities_id"],"id":98},{"start":{"row":61,"column":194},"end":{"row":61,"column":198},"action":"insert","lines":["NULL"]}],[{"start":{"row":60,"column":24},"end":{"row":60,"column":87},"action":"remove","lines":["insert_household_user_P($user_profile_id,$household_profile_id)"],"id":99},{"start":{"row":60,"column":24},"end":{"row":60,"column":69},"action":"insert","lines":["insert_household_user_P($test_test,$housepid)"]}],[{"start":{"row":61,"column":147},"end":{"row":61,"column":163},"action":"remove","lines":["$user_profile_id"],"id":100},{"start":{"row":61,"column":147},"end":{"row":61,"column":157},"action":"insert","lines":["$test_test"]}],[{"start":{"row":61,"column":159},"end":{"row":61,"column":180},"action":"remove","lines":["$household_profile_id"],"id":101},{"start":{"row":61,"column":159},"end":{"row":61,"column":168},"action":"insert","lines":["$housepid"]}]]},"ace":{"folds":[],"scrolltop":60,"scrollleft":0,"selection":{"start":{"row":10,"column":70},"end":{"row":10,"column":70},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":16,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1541966572893,"hash":"d49d3ed92cdf30e9d365018852220ea9c332f65c"}