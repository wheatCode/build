{"filter":false,"title":"do_select_name_action_p.php","tooltip":"/modules/case/php_action/do_select_name_action_p.php","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":30,"column":2},"action":"insert","lines":["<?php","    require_once 'include/php/action_listener.php';","    require_once 'include/php/event_message.php';","    require_once 'modules/case/php_action/case_model.php';","    require_once 'modules/household/php_action/household_model.php';","    require_once 'modules/building/php_action/building_model.php';","    require_once 'modules/user_profile/php_action/user_profile_model.php';","    // require_once 'modules/repair/php_action/repair_model.php';","    ","    class do_select_action_P implements action_listener{","        public function actionPerformed(event_message $em) {","          $data=[];","          $case = new case_model();","          $household = new household_model();","          $building = new building_model();","          $user = new user_profile_model();","        //   $repair = new repair_model();","          $cases = $case->get_something_from_case_profile('*','1 ORDER BY id DESC');","          foreach($cases as $key => $caseOne){","              $repairTypeOne = $case->get_something_from_repair_type('`namech`','id ='.$cases[$key]['repair_type_id']);","              $houseHoldUserOne = $household->get_something_from_household_user('*','id ='.$cases[$key]['household_user_id']);","              $houseHoldProfileOne = $household->get_something_from_household_profile('*','id ='.$houseHoldUserOne[0]['household_profile_id']);","              $buildingOne = $building->get_something_from_construction_project('*',$houseHoldProfileOne[0]['construction_project_id']);","              $userOne = $user->get_something_from_user_profile('id,name,phone','id = '.$houseHoldUserOne[0]['user_profile_id']);","              $sum=['case' => $caseOne,'repairType' => $repairTypeOne[0]['namech'],'houseHold' => ['houseHoldUser' => $houseHoldUserOne,'houseHoldprofile' => $houseHoldProfileOne],'building' => $buildingOne,'user' => $userOne];","              array_push($data,$sum);","          }","          return json_encode($data);","        }","    }","?>"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":30,"column":2},"end":{"row":30,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1538887876008,"hash":"bdb9f0f6eecf7888c002fbe36dbd58ebd1b4903c"}